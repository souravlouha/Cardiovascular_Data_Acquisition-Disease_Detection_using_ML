## 🟣 Understanding PPG Signals (Photoplethysmogram)

**Photoplethysmogram (PPG)** is an optical signal that reflects **blood volume changes in the microvascular bed of tissue**. It is widely used for **non-invasive cardiovascular monitoring**, typically through wearable devices like smartwatches and pulse oximeters.

---

### 🌟 What is a PPG Signal?

A PPG signal is generated by shining a light (usually infrared or red) into the skin and measuring the amount of light either transmitted or reflected to a photodetector. The variation in light absorption corresponds to changes in blood flow with each heartbeat.

---

### 🧠 Components of a PPG Waveform

A single PPG pulse waveform includes:
- **Systolic peak**: Corresponds to ventricular contraction and blood ejection
- **Dicrotic notch**: Caused by closure of the aortic valve
- **Diastolic wave**: Reflects pressure in arteries during ventricular relaxation

Each PPG cycle provides information about heart rate, blood flow, arterial stiffness, and vascular health.

---

### 📥 PPG Signal Acquisition

- **Sensors**: Infrared LED + photodiode setup
- **Locations**: Fingertips, wrist, earlobe
- **Sampling Rate**: Typically 100–1000 Hz
- **Common Devices**: Pulse oximeters, smartwatches (e.g., Apple Watch, Mi Band)

---

### 🧪 PPG Signal Processing Steps

1. **Preprocessing**:
   - Bandpass filtering to remove motion and ambient light artifacts
   - DC component removal (baseline correction)
   - Signal smoothing with moving average or Gaussian filters

2. **Feature Extraction**:
   - **Time-domain**: Peak-to-peak interval, pulse width, slope, area
   - **Frequency-domain**: HRV, respiratory rate from FFT
   - **Statistical**: Mean, variance, skewness, kurtosis

3. **Pulse Rate Variability (PRV)**:
   - Similar to HRV from ECG
   - Derived from intervals between successive PPG peaks

4. **Normalization**:
   - Rescale amplitude for comparison across subjects

---

### 🧠 PPG with Machine Learning and AI

- **ML Models**: SVM, Decision Tree, KNN using statistical and morphological features
- **Deep Learning**: CNN/LSTM on raw waveform or scalogram
- **Hybrid Models**: Combine PPG + ECG for more accurate diagnosis

---

### 🔬 Applications of PPG

- ✅ Heart rate and blood oxygen level (SpO2) monitoring  
- ✅ Stress detection and mental workload analysis  
- ✅ Sleep stage estimation  
- ✅ Arrhythmia and hypertension screening  
- ✅ Early prediction of cardiovascular diseases  

---

### 📈 Example PPG Processing Workflow (MATLAB-style)

```matlab
% Step 1: Load PPG signal
data = load('ppg_sample.txt');

% Step 2: Bandpass filter (e.g., 0.5 – 8 Hz)
filtered = bandpass(data, [0.5 8], 1000);

% Step 3: Smooth signal
smooth_ppg = movmean(filtered, 10);

% Step 4: Detect peaks
[pks, locs] = findpeaks(smooth_ppg, 'MinPeakDistance', 200);

% Step 5: Feature extraction
RR_intervals = diff(locs);  % Pulse-to-pulse intervals
mean_rr = mean(RR_intervals);
```
## 📁 PPG Repository Structure

```plaintext
├── README.md                               # Project overview, steps, images, and descriptions
├── Output_images/                          # 📊 Processed waveform plots and analysis visuals
│   ├── original ppg waveform.png
│   ├── filtered ppg signal.png
│   └── ...
├── NORMAL_PPG_1.txt                        # ✅ Main raw PPG data (unfiltered)
├── NORMAL_PPG_1_filtered.txt               # Preprocessed (filtered) version of the raw PPG signal
├── NORMAL_PPG_1__ppg_beat_matrix.txt       # Matrix of beat-to-beat segmented features
├── NORMAL_PPG_1__ppg_beat_fiducial.xlsx    # Excel file with fiducial points: systolic peak, dicrotic notch, diastolic end
├── mydata.mat                              # MATLAB structure data (possibly includes all PPG variables)
├── PPG01.m                                 # Main MATLAB script for PPG signal preprocessing and peak detection
├── PPG01_Original.m                        # Base version of PPG01.m (used before feature additions)
├── PPG02.m                                 # Systolic/diastolic peak detection + bandpass filter pipeline
├── PPG02_Original.m                        # Unmodified version of PPG02 (pre-peak enhancement)
├── PPG03_Original.m                        # Possibly used for notch/diastolic detection or advanced plotting
├── *.asv                                   # Autosave backup files from MATLAB (can be ignored/removed)
```

#
